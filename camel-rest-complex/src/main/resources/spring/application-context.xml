<?xml version="1.0" encoding="UTF-8"?>
<beans xmlns="http://www.springframework.org/schema/beans"
	xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" 
	xmlns:camel="http://camel.apache.org/schema/spring"
	xmlns:cxf="http://camel.apache.org/schema/cxf"
	xsi:schemaLocation="
       http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd
       http://camel.apache.org/schema/spring http://camel.apache.org/schema/spring/camel-spring.xsd
       http://camel.apache.org/schema/cxf http://camel.apache.org/schema/cxf/camel-cxf.xsd">

	<!-- Can define the camel context here. It's merged with all the RouteBuilders and camel/*.xml,camel-rest/*.xml
		 camel.springboot.* properties are ignored if this is used
	 -->
	<!-- 
	<camelContext id="myCamelContext" xmlns="http://camel.apache.org/schema/spring">
		<route id="simple-route">
			<from id="route-timer" uri="timer:foo?period=2000&amp;repeatCount=1" />
			<log id="route-log" message=">>> simple-route" />
		</route>
	</camelContext>
	-->

	<!-- Beans -->
	<bean id="succResponse" class="my.company.model.ApiResponse">
		<property name="code" value="0" />
		<property name="message" value="OK" />
	</bean>
	
	<!-- Can set the number of parallel splitter runs this way -->
	<!-- Lazy init is required otherwise the thread pool may not show up in JMX -->
	<camel:threadPool id="myThreadPool" poolSize="8" maxPoolSize="16" threadName="Splitter" maxQueueSize="0" rejectedPolicy="CallerRuns"/>
	
	<!-- CXF -->
	<cxf:cxfEndpoint 
		id="cxfGlobalWeather"
		address="${GlobalWeather.url}"
		serviceClass="net.webservicex.GlobalWeatherSoap">
		<cxf:features>
			<bean class="org.apache.cxf.feature.LoggingFeature"/> <!-- Logs in/out message at INFO level -->
		</cxf:features>
		<cxf:outInterceptors>
			<ref bean="buildAddSignature"/>
		</cxf:outInterceptors>
	</cxf:cxfEndpoint>

</beans>
